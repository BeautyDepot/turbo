{% schema %}
    {    
        "name": "home-promo",
        "class": "featured-gallery",
        "settings": [
            {
                "id": "overlay_text_color",
                "type": "color",
                  "label": "Overlay Text Color", 
                  "info": "Select a color for the text on your overlay",
                  "default": "#ffffff"
            },
            {
                "id": "overlay_bg_color",
                "type": "color",
                  "label": "Background Overlay", 
                  "info": "Choose a text color",
                  "default": "#0000ff"
            }
        ],

        "blocks": [

            {
                "name": "gallery_image",
                "type": "image",
                "settings": [
                    {
                        "id": "gallery_image",
                        "type": "image_picker",
                          "label": "Gallery Image", 
                          "info": "Upload an image to be added to the image gallery on the homepage"
                    },
                    {
                        "id": "overlay_text",
                        "type": "text",
                          "label": "Overlay Text", 
                          "info": "add a title to your image that will apprear on the overlay"    
                    },
                    {
                        "id": "button_text",
                        "type": "text",
                          "label": "Button Text", 
                          "info": "add a title to your button that will apprear on the overlay"    
                    },
                    {
                        "id": "button_link",
                        "type": "text",
                          "label": "Button Link", 
                          "info": "add a link to your button that will apprear on the overlay"    
                    }
                ]     
            }

        ]            
    }


{% endschema %}

{% for block in section.blocks%}
    <div class="home-promo-item lazyload">
       <img src="{{ block.settings.gallery_image| img_url: 'grande' }}" class="home-promo-image">
        <div class="home-promo-caption"><h3 class="home-promo-title">{{block.settings.overlay_text}}</h3></div>
        <button class="home-promo-button"><a href="{{ block.settings.button_link }}">{{ block.settings.button_text }}</a></button>
    </div>
{% endfor %}


<style>
    .featured-gallery {
        -moz-column-count: 3;
        -webkit-column-count: 3;
        column-count: 3;
        width: 90%;
        margin: 0 auto;
        display: static;
    }

    .home-promo-item{
        width: 100%;
        height: 300px;
        margin: 10px 0;
        position: relative;

    }
    .home-promo-item:first-child{
        height: 600px;
        margin: 0 0 20px 0;
    }


    .home-promo-image {
        position: absolute;
        top: 0;
        left: 0;
        height: 100%;
        width: 100%;
    }

    .home-promo-caption {
        position: absolute;
        top: 0px;
        left: 0;
        width: 100%;
        height: 60px;
        background:#333333; 
        color: #fc2167;
    }
    .home-promo-title{
        text-align: center;
        line-height: 60px;
        margin: 0;
        <!-- background: {{section.settings.overlay_bg_color}}; -->
        <!-- color:{{section.settings.overlay_text_color}}; -->

    }

    .home-promo-button{
        position: absolute;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
    }

   
@media only screen and (max-width: 768px) {

    .featured-gallery{
      -moz-column-count: 3;
      -webkit-column-count: 3;
      column-count: 3;
    }
    .home-promo-item{
        width: 100%;
        height: 200px;
        position: relative;

    }
    .home-promo-item:first-child{
        height: 400px;
    }

}

@media only screen and (max-width: 400px) {

    .featured-gallery{
      -moz-column-count: 1;
      -webkit-column-count: 1;
      column-count: 1;
    }
     .home-promo-item{
        width: 100%;
        height: 200px;
        position: relative;

    }
    .home-promo-item:first-child{
        height: 200px;
    }

}
</style>



{% javascript %} 
{% endjavascript %}